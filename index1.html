<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
  </head>
  <body>
    
    <div class="container-1" >
      <div></div>
      <div class="">
        <h2 class="text-primary ">API calling </h2><h4 class="text-primary text-opacity-75">WITH</h4><h4 class="text-primary text-opacity-50">Fetch('https://jsonplaceholder.typicode.com/users')</h4></pre>
      <div>
        <p>Create a web page that fetches user data from public API and displays the name of the users in a list format</p>
        <p><strong>Instruction:</strong>
          <ul>
            <li>Use Javascript fetch to call the API</li>
            <li>Display the names of users in an unordered list</li>
            <li>if there's an error fetching data, show an error message</li>
          </ul>
        </p>
        <button class="btn btn-primary " onclick="codebtn1()">Run the code</button>
        <button class="btn btn-secondary"><a href="index.html">Back</a></button>
        <div class="code_execution">
          <ul class="fetchlist" style="opacity: 0">

          </ul>

        </div>
      </div>
      
      </div>
      <div class="bg-black px-2">
        <p>
         <pre class="text-white"> 
const fetchlist = document.querySelector(".fetchlist");
async function fetchData() {
  try {
    const res = await fetch("https://jsonplaceholder.typicode.com/users");
    if (!res.ok) {
      throw new Error(`HTTP error: ${res.status}`);
    }
    const data = await res.json();
    console.log(data);
    data.map((item) => {
      const liEle = document.createElement("li");
      liEle.innerHTML = item.name;
      fetchlist.append(liEle);
    });
  } catch (error) {
    console.error("Error fetching data:", error);
    return null; // Or return a default value, or handle the error in another way
  }
}
fetchData();
const codebtn_1 = document.querySelector(".codebtn-1");
codebtn_1.addEventListener("click", function () {
  fetchlist.style.opacity = 1;
});</pre>
        </p>
      </div>
      <div></div>
    </div>
  </body>
  <script src="script1.js"></script>
</html>
